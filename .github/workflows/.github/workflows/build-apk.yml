name: Build APK' 'on:' '  workflow_dispatch:' '' 'jobs:' '  build:' '    runs-on: ubuntu-latest' '    steps:' '      - name: Checkout' '        uses: actions/checkout@v4' '' '      - name: Set up JDK 17' '        uses: actions/setup-java@v4' '        with:' '          distribution: temurin' "          java-version: '17'" '' '      - name: Set up Gradle (system)' '        uses: gradle/actions/setup-gradle@v3' '        with:' '          gradle-version: 8.7' '' '      - name: Build debug APK (robust)' '        shell: bash' '        run: |' '          set -euxo pipefail' '          if [ -d "SpotMyRepAndroid" ]; then cd SpotMyRepAndroid; fi' '' '          if [ ! -f settings.gradle ] && [ ! -f settings.gradle.kts ]; then' "            printf '%s\n' \\" 'pluginManagement { repositories { google(); mavenCentral(); gradlePluginPortal() } }' "\\" 'dependencyResolutionManagement {' "\\" '  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)' "\\" '  repositories { google(); mavenCentral() }' "\\" '}' "\\" 'rootProject.name = "SpotMyRepAndroid"' "\\" 'include(":app")' '             > settings.gradle.kts' '          fi' '' '          if [ ! -f build.gradle ] && [ ! -f build.gradle.kts ]; then' "            printf '%s\n' \\" 'plugins {' "\\" '  id("com.android.application") version "8.1.2" apply false' "\\" '  id("org.jetbrains.kotlin.android") version "1.9.0" apply false' "\\" '}' '             > build.gradle.kts' '          fi' '' '          gradle assembleDebug' '' '      - name: List build outputs (debug)' '        run: |' '          echo "Looking for APKsâ€¦"' '          find . -type f -name "*.apk" -print || true' '' '      - name: Upload APK' '        uses: actions/upload-artifact@v4' '        with:' '          name: spotmyrep-apk' "          path: '**/app/build/outputs/**/*.apk'" '          if-no-files-found: error' > .github/workflows/build-apk.yml
git add .github/workflows/build-apk.yml
git commit -m "Replace old workflows with clean Build APK workflow"
git push